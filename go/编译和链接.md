####  编译

将源代码转换为汇编语言的机器指令。

然后转化成二进制目标文件。

#### 词法分析：

就是把所有的分成一个个token，以及添加分号。

token就是分辨出关键字，字符串，标识符等等。

- 所有的编译过程都是从解析代码的源文件开始的
- 词法分析的作用就是解析源代码文件，它将文件中的字符串序列转换成`Token`序列，方便后面的处理和解析
- 我们一般会把执行词法分析的程序称为词法解析器（lexer）
- `Token`可以是关键字，字符串，变量名，函数名
- 有效程序的"单词"都由`Token`表示，具体来说，这意味着"package"，"main"，"func" 等单词都为`Token`

#### 语法分析

生成一个语法分析树

##### 类型检查

检查类型是否符合，把make替换成为makechan等等

#### 生成中间代码ssa

许多优化，比方说永远不会执行的代码等等。

#### 生成跨平台的plan9汇编指令

最终生成不同机器上的机器代码。

https://zhuanlan.zhihu.com/p/107665043

#### 链接

将多个目标文件合并成一个可执行文件。

这样如果一个库改变了只需要重新编译那个库本身而不需要重新编译。

go默认是静态链接。

![截屏2020-07-12 下午3.15.21](/Users/jieyang/Library/Application Support/typora-user-images/截屏2020-07-12 下午3.15.21.png)