#### csma

类似于分布式网络中的electiontimeout。

区别在于往往信道空闲，新的就会成为leader。

而raft中信道空闲也有心跳保证。



csma/cd协议

- 发送数据前，监听信道，直到无人访问，
- 检测到碰撞时，停止传输，重复“监听”前等待一段时间。



由于信道传播时延，即使开始无人发送，也会碰撞



如果等待固定的时间，那么很可能又会碰撞

- 随机时间长浪费
- 随机时间短的话容易碰撞



- 二进制指数回退
- 随机时间与碰撞次数成指数倍增长

#### arp

每台主机包含ip-》mac地址的映射。

mac地址是扁平化的端口地址。

arp查询一mac广播地址发送信息。收到的主机如果ip一致则返回自己的地址，否则不。



#### 以太网

![截屏2020-07-09 下午9.41.19](/Users/jieyang/Library/Application Support/typora-user-images/截屏2020-07-09 下午9.41.19.png)

前同步码：为了时钟同步前七个字节10101010，最后一个字节10101011表示结束

目的地址：表示对方的mac地址

校验：crc校验，提供差错恢复功能。



交换机自动学习。

自动记录从每个接口传进来的帧。记录

（Mac-接口对）

无匹配mac则所有接口都转发